#+OPTIONS: toc:nil

* Vulpea

#+begin_html
<p align="center">
  <img width="256px" src="./images/logo.png" alt="Banner">
</p>
<p align="center">
  <a href="https://github.com/d12frosted/vulpea/tree/v2-rewrite"><img alt="v2-rewrite branch" src="https://img.shields.io/badge/branch-v2--rewrite-blue"/></a>
  <a href="https://github.com/d12frosted/vulpea/actions"><img alt="Tests" src="https://img.shields.io/badge/tests-passing-green"/></a>
</p>
#+end_html

A database layer for your org-mode notes. Vulpea indexes your notes and provides fast queries for tags, links, metadata, and full-text search - all without blocking your workflow.

** Why Vulpea?

Org-mode is powerful, but working with hundreds or thousands of notes becomes difficult. Finding notes, discovering connections, and querying your knowledge base requires tooling beyond what org-mode provides.

Vulpea solves this by maintaining a database of your notes that stays in sync with your files. You get:

- *Fast note finding* - Search by title, tags, or content across thousands of notes
- *Connection discovery* - Find what links to what, explore backlinks
- *Rich queries* - Filter notes by tags, metadata, links, or custom predicates
- *Non-blocking sync* - Database updates happen in the background, never interrupts your typing
- *External change detection* - Works with git, Dropbox, Syncthing - files changed outside Emacs are detected automatically

*** Use Cases

*Personal knowledge management* - Use =M-x vulpea-find= to navigate your notes, =M-x vulpea-insert= to create links between ideas. Vulpea handles Zettelkasten-style workflows where connections matter.

*Building applications* - Vulpea provides a foundation for note-based apps. [[https://github.com/d12frosted/vino][Vino]] uses Vulpea to manage wine collections with ratings, producers, and regions. The included journal module provides daily notes with widgets.

*Large collections* - Designed to scale. The async architecture and optimized queries handle 100k+ notes without degrading performance.

** Key Features

- üöÄ *Async-first* - File watchers + background processing, no save hooks blocking you
- üìä *Optimized queries* - Hybrid database schema for fast reads
- üîå *Extensible* - Plugin system for custom extractors and tables
- üè∑Ô∏è *Rich metadata* - Type-aware metadata with automatic coercion
- ‚ö° *Scales* - Tested with 100k+ notes

** Quick Start

#+begin_src emacs-lisp
;; 1. Configure (defaults to org-directory, so often not needed)
;; (setq vulpea-db-sync-directories '("~/org/"))

;; 2. Build database (first time only)
(vulpea-db-sync-full-scan)

;; 3. Enable auto-sync
(vulpea-db-autosync-mode +1)

;; 4. Start using
;; M-x vulpea-find    - find and open notes
;; M-x vulpea-insert  - insert link to a note
#+end_src

*Note:* Vulpea only indexes notes with =ID= properties. Use =M-x org-id-get-create= to add IDs to your notes.

‚Üí [[file:docs/getting-started.org][Full Getting Started Guide]]

** Installation

*Note:* v2 is currently on the =v2-rewrite= branch and not yet released to package archives.

#+begin_src bash
git clone https://github.com/d12frosted/vulpea
cd vulpea
git checkout v2-rewrite
#+end_src

#+begin_src emacs-lisp
(add-to-list 'load-path "/path/to/vulpea")
(require 'vulpea)
#+end_src

*** Dependencies

- Emacs 27.2+
- =org-mode= 9.4.4+
- =emacsql= 4.3.0+ (with =emacsql-sqlite-builtin=)
- =s= 1.12+
- =dash= 2.19+

*** Optional (Recommended)

| Tool      | Purpose                            | Install                                                        |
|-----------+------------------------------------+----------------------------------------------------------------|
| =fd=      | 15√ó faster directory scanning      | =brew install fd= / =apt install fd-find= / =pacman -S fd=     |
| =fswatch= | Reliable external change detection | =brew install fswatch= / =apt install fswatch= / =pacman -S fswatch= |

** Documentation

| Document | Description |
|----------+-------------|
| [[file:docs/getting-started.org][Getting Started]] | Installation, first steps, basic concepts |
| [[file:docs/user-guide.org][User Guide]] | Daily usage, interactive commands, working with notes |
| [[file:docs/configuration.org][Configuration]] | All options explained, performance tuning |
| [[file:docs/api-reference.org][API Reference]] | Programmatic usage, query functions, data structures |
| [[file:docs/journal.org][Journal Module]] | Daily notes with widgets and calendar integration |
| [[file:docs/plugin-guide.org][Plugin Guide]] | Writing custom extractors for domain-specific data |
| [[file:docs/troubleshooting.org][Troubleshooting]] | Common issues and solutions |

** Ecosystem

Companion packages that extend Vulpea:

- [[https://github.com/d12frosted/vulpea-ui][vulpea-ui]] - Sidebar infrastructure and widget framework. Provides a per-frame sidebar with outline, backlinks, forward links, and stats widgets. Easy API for creating custom widgets.
- [[https://github.com/d12frosted/vulpea-journal][vulpea-journal]] - Daily journaling with calendar integration. Creates one note per day with sidebar widgets for navigation, calendar view, and "on this day" from previous years.

** Real-World Usage

- [[https://github.com/d12frosted/vino][vino]] - Wine cellar management with rich metadata
- [[https://github.com/d12frosted/environment][d12frosted/environment]] - Personal configuration (13k+ notes)

** What's New in v2

v2 is a complete rewrite:

- *No org-roam dependency* - Standalone library with custom database
- *Async-first* - Non-blocking updates via file watchers
- *Plugin system* - Custom extractors with schema versioning
- *Performance* - Optimized for 100k+ notes

‚Üí [[file:docs/migration.org][Migration Guide from v1]]

** Contributing

Contributions welcome! See [[file:docs/architecture.org][Architecture]] for design decisions.

Areas where help is needed:
- Performance testing with large collections
- Platform testing (Windows, Linux, macOS)
- Plugin examples
- Documentation improvements

** License

GPLv3
